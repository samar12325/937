<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title data-ar="Ù„ÙˆØ­Ø© Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù‚Ø³Ù…" data-en="Department Admin Dashboard">Department Admin Dashboard</title>

  <!-- Ø®Ø·ÙˆØ· Ù…Ø·Ø§Ø¨Ù‚Ø© Ù„Ù„Ù‡ÙˆÙ… -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&display=swap" rel="stylesheet">

  <!-- Ù†ÙØ³ Ù…Ù„Ù Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ -->
  <link rel="stylesheet" href="dept-admin.css">
  
  <!-- Auth helpers -->
  <script src="../js/auth-helpers.js"></script>
  <!-- Impersonation banner -->
  <script src="../js/impersonation-banner.js"></script>
  
  <style>
    /* Header Layout Styles - Same as employee page */
    .header-content {
      display: flex !important;
      align-items: center !important;
      justify-content: space-between !important;
      width: 100% !important;
      max-width: none !important;
      margin: 0 !important;
    }
    
    .header-left {
      flex: 1 !important;
      display: flex !important;
      justify-content: flex-start !important;
    }
    
    .header-center {
      flex: 1 !important;
      display: flex !important;
      justify-content: center !important;
      align-items: center !important;
    }
    
    .header-right {
      flex: 1 !important;
      display: flex !important;
      justify-content: flex-end !important;
      align-items: center !important;
      gap: 15px !important;
      flex-wrap: nowrap !important;
    }
    
    .header-right > * {
      flex-shrink: 0 !important;
    }
    
    /* Ensure buttons and links stay in line */
    .profile-link,
    .notif-btn {
      white-space: nowrap !important;
      display: inline-flex !important;
      align-items: center !important;
      margin: 0 !important;
      padding: 0 !important;
    }
    
    /* Keep language toggle button in original style */
    .lang-toggle-btn {
      white-space: nowrap !important;
      display: inline-flex !important;
      align-items: center !important;
      margin: 0 !important;
      padding: 0 !important;
      /* Restore original button styling */
      background: #3b82f6 !important;
      color: white !important;
      border: none !important;
      border-radius: 8px !important;
      padding: 8px 12px !important;
      cursor: pointer !important;
      transition: background 0.2s ease !important;
    }
    
    .lang-toggle-btn:hover {
      background: #2563eb !important;
    }
    
    /* Icon formatting - ØªÙƒØ¨ÙŠØ± Ù…Ø­ØªÙˆÙ‰ Ø§Ù„ØµÙˆØ± */
    .card img {
      width: 24px;
      height: 24px;
      margin: 0 auto 0px;
      object-fit: contain;
      transform: scale(2);
    }
    
    .card-icon-small {
      width: 22px;
      height: 22px;
      margin-bottom: 0px;
      transition: all 0.3s ease;
      transform: scale(2);
    }
    
    /* Card hover effects exactly like employee page */
    .card {
      position: relative;
      overflow: hidden;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: 2px solid transparent;
    }
    
    .card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      border-color: #3b82f6;
    }
    
    .card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #3b82f6, #8b5cf6, #06b6d4);
      transform: scaleX(0);
      transition: transform 0.3s ease;
    }
    
    .card:hover::before {
      transform: scaleX(1);
    }
    
    .card img {
      transition: all 0.3s ease;
      filter: grayscale(0.2);
    }
    
    .card:hover img {
      transform: scale(1.1) rotate(5deg);
      filter: grayscale(0) brightness(1.1);
    }
    
    .card h3 {
      transition: color 0.3s ease;
    }
    
    .card:hover h3 {
      color: #3b82f6;
    }
    
    .card .btn {
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }
    
    .card .btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s ease;
    }
    
    .card:hover .btn::before {
      left: 100%;
    }
    
    .card .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(59, 130, 246, 0.4);
    }
    
    /* Card Content Layout - Same Height */
    .card {
      justify-content: space-between;
      align-items: center;
      text-align: center;
    }
    
    .card .btn {
      margin: 20px auto 0;
      align-self: center;
      width: 80%;
      padding: 8px 16px;
      font-size: 14px;
    }
    
    /* Ensure proper spacing between elements */
    .card img {
      margin: 10px auto;
    }
    
    .card h3 {
      margin: 10px auto;
      min-height: 72px;
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 2;
      overflow: hidden;
      text-overflow: ellipsis;
      line-height: 1.4;
      text-align: center;
      font-size: 24px;
      font-weight: bold;
    }
    
    .card p {
      flex-grow: 1;
      display: -webkit-box;
      -webkit-box-orient: vertical;
      -webkit-line-clamp: 3;
      overflow: hidden;
      text-overflow: ellipsis;
      margin: 15px 0;
      padding: 0 15px;
      text-align: center;
      min-height: 108px;
      line-height: 1.6;
      align-items: center;
      justify-content: center;
      font-size: 18px;
    }
    
    /* Cards Grid Layout - Same Height */
    .dashboard {
      padding: 20px;
      gap: 24px;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      align-items: stretch;
      justify-items: center;
    }
    
    .card {
      margin: 0;
      padding: 20px;
      width: 100%;
      max-width: 300px;
      box-sizing: border-box;
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    
    /* Force separate positioning */
    .header-right .profile-link {
      order: 1 !important;
    }
    
    .header-right .notif-btn {
      order: 2 !important;
    }
    
    .header-right .lang-toggle-btn {
      order: 3 !important;
    }
    
    /* Prevent header from breaking on small screens */
    @media (max-width: 768px) {
      .header-content {
        flex-wrap: nowrap;
        overflow: hidden;
      }
      
      .header-left,
      .header-center,
      .header-right {
        min-width: 0;
      }
      
      .header-title {
        font-size: 14px;
      }
    }
    
    /* Ù„Ù…Ø³Ø© Ø¨Ø³ÙŠØ·Ø© Ù„ØªÙˆØ³ÙŠØ· Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ÙƒØ¨ÙŠØ±Ø© */
    .dashboard { flex-wrap: wrap; }
    .card.full { flex-basis: 100%; }
    .kpi-wrap { margin: 12px 40px; display: grid; grid-template-columns: repeat(4,minmax(160px,1fr)); gap: 14px; }
    .kpi { background:#fff; border:1px solid #e5e7eb; border-radius:14px; padding:14px; box-shadow:0 4px 10px rgba(0,0,0,.04); }
    .kpi .t{font-size:.92rem;color:#374151}
    .kpi .v{font-weight:800;font-size:1.35rem;color:#0f172a}
    .list-card{ background:#fff;border:1px solid #e5e7eb;border-radius:14px;padding:16px; box-shadow:0 4px 10px rgba(0,0,0,.04); margin:16px 40px 24px;}
    .comp-table{width:100%;border-collapse:collapse;font-size:.95rem}
    .comp-table th,.comp-table td{padding:10px 12px;border-bottom:1px solid #eee;text-align:center;white-space:nowrap}
    .comp-table thead th{background:#f8fafc;font-weight:600;position:sticky;top:0;z-index:1}
    .kpi-refresh{display:flex;align-items:center;justify-content:center;margin-top:10px}
    .refresh-btn{background:#3b82f6;color:white;border:none;border-radius:8px;padding:8px 12px;cursor:pointer;display:flex;align-items:center;gap:6px;font-size:.9rem;transition:all .2s ease}
    .refresh-btn:hover{background:#2563eb;transform:scale(1.05)}
    .refresh-btn:disabled{opacity:0.7;cursor:not-allowed}
    .refresh-btn svg{width:14px;height:14px}
    .animate-spin{animation:spin 1s linear infinite}
    @keyframes spin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
    
    /* Report Distribution Styles */
    .complaints-filters {
      display: flex;
      gap: 15px;
      align-items: end;
      flex-wrap: wrap;
    }

    .complaints-filters .filter-group {
      margin-bottom: 0;
    }

    .filter-select, .search-btn {
      padding: 8px 12px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 14px;
    }

    .search-btn {
      background: #3b82f6;
      color: white;
      border: none;
      cursor: pointer;
      transition: background 0.2s ease;
    }

    .search-btn:hover {
      background: #2563eb;
    }

    .worklist-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    .worklist-table th,
    .worklist-table td {
      padding: 12px;
      text-align: right;
      border-bottom: 1px solid #e5e7eb;
    }

    .worklist-table th {
      background: #f9fafb;
      font-weight: 600;
      color: #374151;
    }

    .btn-small {
      padding: 6px 12px;
      margin: 2px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 12px;
      transition: background 0.2s ease;
    }

    .btn-assign {
      background: #10b981;
      color: white;
    }

    .btn-assign:hover {
      background: #059669;
    }

    .btn-view {
      background: #3b82f6;
      color: white;
    }

    .btn-view:hover {
      background: #2563eb;
    }

    .status-badge {
      padding: 4px 8px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
    }

    .status-new { background: #dbeafe; color: #1e40af; }
    .status-progress { background: #fef3c7; color: #92400e; }
    .status-resolved { background: #d1fae5; color: #065f46; }
    .status-closed { background: #f3f4f6; color: #374151; }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-content">
      <div class="header-left">
        <div class="header-title" data-ar="Ø¨Ù„Ø§ØºØ§Øª 937 â€” Ù…Ø¯ÙŠØ± Ø§Ù„Ù‚Ø³Ù…" data-en="Reports 937 â€” Department Admin">Ø¨Ù„Ø§ØºØ§Øª 937 â€” Ù…Ø¯ÙŠØ± Ø§Ù„Ù‚Ø³Ù…</div>
      </div>
      
      <div class="header-center">
        <img src="/icon/hospital-logo.png" alt="Ø´Ø¹Ø§Ø±" class="header-logo"/>
      </div>
      
      <div class="header-right">
        <a href="/login/profile.html" class="profile-link">
          <img src="/icon/patient1.png" class="profile-icon-small" alt="Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ">
          <span data-ar="Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ" data-en="Profile">Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ</span>
        </a>

        <button id="notifBtn" class="notif-btn" title="Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª">
          <svg class="notif-icon" viewBox="0 0 24 24" aria-hidden="true">
            <path d="M12 2c.7 0 1.25.56 1.25 1.25v.51A6.75 6.75 0 0 1 19 10.5v4.06l1.49 2.49c.3.5-.06 1.12-.64 1.12H4.15c-.58 0-.94-.62-.64-1.12L5 14.56V10.5A6.75 6.75 0 0 1 10.75 3.76v-.51C10.75 2.56 11.3 2 12 2zm0 20a2.75 2.75 0 0 1-2.62-2h5.24A2.75 2.75 0 0 1 12 22z"/>
          </svg>
          <span id="notifCount" class="notif-count" style="display:none;">0</span>
        </button>

        <button id="langToggle" class="lang-toggle-btn">
          <img src="/icon/lang.png" class="lang-icon" alt="Ø§Ù„Ù„ØºØ©"/>
          <span id="langText">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© | English</span>
        </button>
      </div>
    </div>
  </header>

<!-- Banner hidden by default -->
<div id="impersonation-banner" style="display:none; position:fixed; top:10px; left:10px; z-index:9999;">
  <button id="end-impersonation-btn"
          style="padding:8px 12px; border:none; border-radius:6px; background:#dc2626; color:#fff; cursor:pointer;">
    ğŸ”™ Ø§Ù„Ø±Ø¬ÙˆØ¹ Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ø³ÙˆØ¨Ø±
  </button>
</div>

  <main>
    <!-- ÙƒØ±ÙˆØª Ù…Ø¯ÙŠØ± Ø§Ù„Ù‚Ø³Ù… ÙÙ‚Ø· -->
    <section class="dashboard">


      <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø© -->
      <div class="card permission-gated" data-permission="department_panel" style="display: none;">
        <img src="../icon/chart.png" alt="Ù„ÙˆØ­Ø© Ø§Ù„Ù‚Ø³Ù…" class="card-icon">
        <h3 data-ar="Ù„ÙˆØ­Ø© Ø§Ù„Ù‚Ø³Ù…" data-en="Department Panel">Ù„ÙˆØ­Ø© Ø§Ù„Ù‚Ø³Ù…</h3>
        <p data-ar="Ù†Ø¸Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ø¨Ù„Ø§ØºØ§Øª ÙˆØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù‚Ø³Ù…" data-en="Comprehensive management of your department">Ù†Ø¸Ø±Ø© Ø´Ø§Ù…Ù„Ø© Ø¹Ù„Ù‰ Ø¨Ù„Ø§ØºØ§Øª ÙˆØ·Ù„Ø¨Ø§Øª Ø§Ù„Ù‚Ø³Ù…</p>
        <a href="dept-dashboard.html" class="btn" data-ar="ÙØªØ­ Ø§Ù„Ù„ÙˆØ­Ø©" data-en="Open Panel">ÙØªØ­ Ø§Ù„Ù„ÙˆØ­Ø©</a>
      </div>

      <!-- ØªÙ‚Ø¯ÙŠÙ… Ø¨Ù„Ø§Øº Ø¬Ø¯ÙŠØ¯ -->
      <div class="card permission-gated" data-permission="submit_complaint" style="display: none;">
        <img src="../icon/plus.png" alt="ØªÙ‚Ø¯ÙŠÙ… Ø¨Ù„Ø§Øº" class="card-icon">
        <h3 data-ar="ØªÙ‚Ø¯ÙŠÙ… Ø¨Ù„Ø§Øº Ø¬Ø¯ÙŠØ¯" data-en="Submit New Report">ØªÙ‚Ø¯ÙŠÙ… Ø¨Ù„Ø§Øº Ø¬Ø¯ÙŠØ¯</h3>
        <p data-ar="Ù‚Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø¨Ù„Ø§Øº Ø·Ø¨ÙŠ Ø¬Ø¯ÙŠØ¯" data-en="Register a new medical report">Ù‚Ù… Ø¨ØªØ³Ø¬ÙŠÙ„ Ø¨Ù„Ø§Øº Ø·Ø¨ÙŠ Ø¬Ø¯ÙŠØ¯</p>
        <a href="../New complaint/Newcomplaint.html" class="btn" data-ar="ØªÙ‚Ø¯ÙŠÙ… Ø¨Ù„Ø§Øº" data-en="Submit Report">ØªÙ‚Ø¯ÙŠÙ… Ø¨Ù„Ø§Øº</a>
      </div>


      <!-- Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª -->
      <div class="card permission-gated" data-permission="follow_own_complaint" style="display: none;">
        <img src="../icon/list.png" alt="Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª" class="card-icon">
        <h3 data-ar="Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª" data-en="Follow Reports">Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª</h3>
        <p data-ar="ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø© Ø¨Ù„Ø§ØºØ§ØªÙƒ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©" data-en="Track the status of your submitted reports">ØªØªØ¨Ø¹ Ø­Ø§Ù„Ø© Ø¨Ù„Ø§ØºØ§ØªÙƒ Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©</p>
        <a href="../Complaints-followup/followup.html" class="btn" data-ar="Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª" data-en="Follow Reports">Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª</a>
      </div>

      <!-- Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù‚Ø³Ù… -->
      <div class="card permission-gated" data-permission="department_employees" style="display: none;">
        <img src="../icon/group.png" alt="Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù‚Ø³Ù…" class="card-icon">
        <h3 data-ar="Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù‚Ø³Ù…" data-en="Department Employees">Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù‚Ø³Ù…</h3>
        <p data-ar="Ø¥Ø¯Ø§Ø±Ø© Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù‚Ø³Ù… ÙˆØµÙ„Ø§Ø­ÙŠØ§ØªÙ‡Ù…" data-en="Manage department employees and permissions">Ø¥Ø¯Ø§Ø±Ø© Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù‚Ø³Ù… ÙˆØµÙ„Ø§Ø­ÙŠØ§ØªÙ‡Ù…</p>
        <a href="department-management.html" class="btn" data-ar="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†" data-en="Manage Employees">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</a>
      </div>

      <!-- Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù‚Ø³Ù… -->
      <div class="card permission-gated" data-permission="department_complaints" style="display: none;">
        <img src="../icon/list.png" alt="Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù‚Ø³Ù…" class="card-icon">
        <h3 data-ar="Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù‚Ø³Ù…" data-en="Department Reports">Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù‚Ø³Ù…</h3>
        <p data-ar="Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù‚Ø³Ù…" data-en="View and manage department complaints">Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù‚Ø³Ù…</p>
        <a href="department-complaints.html" class="btn" data-ar="Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª" data-en="View Reports">Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª</a>
      </div>
      


      <!-- ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª -->
      <div class="card permission-gated" data-permission="complaint_distribution" style="display: none;">
        <img src="../icon/fromto.png" alt="ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª" class="card-icon">
        <h3 data-ar="ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª" data-en="Report Distribution">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª</h3>
        <p data-ar="ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…" data-en="Distribute complaints to departments">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ø³Ø§Ù…</p>
        <a href="../director/complaint-distribution.html" class="btn" data-ar="ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª" data-en="Distribute Reports">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª</a>
      </div>

      <!-- ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ† -->
      <div class="card permission-gated" data-permission="employee_distribution" style="display: none;">
        <img src="../icon/SeeAllPublicComp.png" alt="ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ†" class="card-icon">
        <h3 data-ar="ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ†" data-en="Distribute Reports to Employees">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ†</h3>
        <p data-ar="ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø¹Ù„Ù‰ Ù…ÙˆØ¸ÙÙŠÙ† Ù…Ø­Ø¯Ø¯ÙŠÙ† ÙÙŠ Ø§Ù„Ù‚Ø³Ù…" data-en="Distribute complaints to specific employees in the department">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø¹Ù„Ù‰ Ù…ÙˆØ¸ÙÙŠÙ† Ù…Ø­Ø¯Ø¯ÙŠÙ† ÙÙŠ Ø§Ù„Ù‚Ø³Ù…</p>
        <button onclick="openEmployeeDistribution()" class="btn" data-ar="ØªÙˆØ²ÙŠØ¹ Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ†" data-en="Distribute to Employees">ØªÙˆØ²ÙŠØ¹ Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ†</button>
      </div>


      <!-- ØªÙˆØ²ÙŠØ¹ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ -->
      <div class="card permission-gated" data-permission="secret_visitor_distribution" style="display: none;">
        <img src="../icon/Staaff.png" alt="ØªÙˆØ²ÙŠØ¹ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ" class="card-icon">
        <h3 data-ar="ØªÙˆØ²ÙŠØ¹ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ" data-en="Secret Visitor Distribution">ØªÙˆØ²ÙŠØ¹ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ</h3>
        <p data-ar="ØªÙˆØ²ÙŠØ¹ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø®ØªÙ„ÙØ©" data-en="Distribute secret visitor notes to different departments">ØªÙˆØ²ÙŠØ¹ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… Ø§Ù„Ù…Ø®ØªÙ„ÙØ©</p>
        <a href="../DashBoard/secret-visitor-distribution.html" class="btn" data-ar="ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª" data-en="Distribute Reports">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª</a>
      </div>

      <!-- ØªÙˆØ²ÙŠØ¹ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù‚Ø³Ù… -->

      <!-- ØªÙˆØ²ÙŠØ¹ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø³Ù… -->
      <div class="card permission-gated" data-permission="secret_visitor_employee_distribution" style="display: none;">
        <img src="../icon/SeeAllPublicComp.png" alt="ØªÙˆØ²ÙŠØ¹ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†" class="card-icon">
        <h3 data-ar="ØªÙˆØ²ÙŠØ¹ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø³Ù…" data-en="Distribute Secret Visitor Reports to Department Employees">ØªÙˆØ²ÙŠØ¹ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø³Ù…</h3>
        <p data-ar="ØªÙˆØ²ÙŠØ¹ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø¹Ù„Ù‰ Ù…ÙˆØ¸ÙÙŠÙ† Ù…Ø­Ø¯Ø¯ÙŠÙ† Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø³Ù…" data-en="Distribute secret visitor reports to specific employees within the department">ØªÙˆØ²ÙŠØ¹ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø¹Ù„Ù‰ Ù…ÙˆØ¸ÙÙŠÙ† Ù…Ø­Ø¯Ø¯ÙŠÙ† Ø¯Ø§Ø®Ù„ Ø§Ù„Ù‚Ø³Ù…</p>
        <a href="dept-secret-visitor-employee-distribution.html" class="btn" data-ar="ØªÙˆØ²ÙŠØ¹ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†" data-en="Distribute to Employees">ØªÙˆØ²ÙŠØ¹ Ø¹Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†</a>
      </div>

      <!-- Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ù…Ø³Ù†Ø¯Ø© Ù„ÙŠ -->
      <div class="card permission-gated" data-permission="secret_visitor_assigned_reports" style="display: none;">
        <img src="../icon/FollowUpPrivateComp.png" alt="Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ù…Ø³Ù†Ø¯Ø© Ù„ÙŠ" class="card-icon">
        <h3 data-ar="Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ù…Ø³Ù†Ø¯Ø© Ù„ÙŠ" data-en="My Assigned Secret Visitor Reports">Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ù…Ø³Ù†Ø¯Ø© Ù„ÙŠ</h3>
        <p data-ar="Ø¹Ø±Ø¶ ÙˆØ§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ù…Ø³Ù†Ø¯Ø© Ø¥Ù„ÙŠÙƒ" data-en="View and respond to secret visitor reports assigned to you">Ø¹Ø±Ø¶ ÙˆØ§Ù„Ø±Ø¯ Ø¹Ù„Ù‰ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø²Ø§Ø¦Ø± Ø§Ù„Ø³Ø±ÙŠ Ø§Ù„Ù…Ø³Ù†Ø¯Ø© Ø¥Ù„ÙŠÙƒ</p>
        <a href="dept-assigned-secret-visitor-reports.html" class="btn" data-ar="Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª" data-en="View Reports">Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª</a>
      </div>

      <!-- Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª -->
      <div class="card permission-gated" data-permission="dashboard" style="display: none;">
        <img src="../icon/chart.png" alt="Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª" class="card-icon">
        <h3 data-ar="Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª" data-en="Dashboard">Ù„ÙˆØ­Ø© Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</h3>
        <p data-ar="Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰" data-en="Complaint statistics and analytics">Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª ÙˆØªØ­Ù„ÙŠÙ„Ø§Øª Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰</p>
        <a href="../DashBoard/overview.html" class="btn" data-ar="Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„" data-en="View Details">Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„</a>
      </div>

      <!-- Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø© -->
      <div class="card permission-gated" data-permission="view_public_complaints" style="display: none;">
        <img src="../icon/group.png" alt="Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©" class="card-icon">
        <h3 data-ar="Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©" data-en="General Reports">Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</h3>
        <p data-ar="Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©" data-en="View and manage general complaints">Ø¹Ø±Ø¶ ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ø¹Ø§Ù…Ø©</p>
        <a href="../general complaints/general-complaints.html" class="btn" data-ar="Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª" data-en="View Reports">Ø¹Ø±Ø¶ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª</a>
      </div>

      <!-- Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª -->
      <div class="card permission-gated" data-permission="manage_permissions" style="display: none;">
        <img src="../icon/setting.png" alt="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª" class="card-icon">
        <h3 data-ar="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª" data-en="Permissions Management">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª</h3>
        <p data-ar="Ø¥Ø¯Ø§Ø±Ø© ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Ø±" data-en="Manage employee permissions and roles">Ø¥Ø¯Ø§Ø±Ø© ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Ø±</p>
        <a href="../superadmin/permissions.html" class="btn" data-ar="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª" data-en="Manage Permissions">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª</a>
      </div>


      <!-- Permission Management -->
      <div class="card permission-gated" data-permission="rbac.manage" style="display: none;">
        <img src="../icon/UserManagement.png" alt="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª" class="card-icon">
        <h3 data-ar="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª" data-en="Permission Management">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª</h3>
        <p data-ar="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Ø± ÙˆØªØ¹ÙŠÙŠÙ† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠ Ø§Ù„Ù‚Ø³Ù…" data-en="Manage roles and assign permissions to department users">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¯ÙˆØ§Ø± ÙˆØªØ¹ÙŠÙŠÙ† Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠ Ø§Ù„Ù‚Ø³Ù…</p>
        <a href="#" onclick="openPermissionManagement()" class="btn" data-ar="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª" data-en="Manage Permissions">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª</a>
      </div>

      <!-- Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù…Ø­Ø°ÙˆÙØ© -->
      <div class="card permission-gated" data-permission="deleted_complaints" style="display: none;">
        <img src="../icon/alert.png" alt="Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù…Ø­Ø°ÙˆÙØ©" class="card-icon">
        <h3 data-ar="Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù…Ø­Ø°ÙˆÙØ©" data-en="Deleted Reports">Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù…Ø­Ø°ÙˆÙØ©</h3>
        <p data-ar="Ø¥Ø¯Ø§Ø±Ø© ÙˆØ§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù…Ø­Ø°ÙˆÙØ© Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù…" data-en="Manage and restore deleted complaints from the system">
          Ø¥Ø¯Ø§Ø±Ø© ÙˆØ§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù…Ø­Ø°ÙˆÙØ© Ù…Ù† Ø§Ù„Ù†Ø¸Ø§Ù…
        </p>
        <a href="../superadmin/deleted-complaints.html" class="btn" data-ar="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­Ø°ÙˆÙØ©" data-en="Manage Deleted">
          Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø­Ø°ÙˆÙØ©
        </a>
      </div>

      <!-- Ø§Ù„Ø³Ø¬Ù„Ø§Øª -->
      <div class="card permission-gated" data-permission="records" style="display: none;">
        <img src="../icon/document.png" alt="Ø§Ù„Ø³Ø¬Ù„Ø§Øª" class="card-icon">
        <h3 data-ar="Ø§Ù„Ø³Ø¬Ù„Ø§Øª" data-en="Records">Ø§Ù„Ø³Ø¬Ù„Ø§Øª</h3>
        <p data-ar="Ø§Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙˆØ§Ù„Ø´ÙƒØ§ÙˆÙ‰" data-en="View operation and complaint records">
          Ø§Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙˆØ§Ù„Ø´ÙƒØ§ÙˆÙ‰
        </p>
        <a href="../superadmin/logs.html" class="btn" data-ar="Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª" data-en="View Records">
          Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¬Ù„Ø§Øª
        </a>
      </div>

      <div class="card permission-gated" data-permission="user_management" style="display: none;">
        <img src="../icon/setting.png" alt="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†" class="card-icon">
        <h3 data-ar="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†" data-en="User Management">Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</h3>
        <p data-ar="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Ø± ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª" data-en="Manage accounts, roles, and permissions">
          Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Ø± ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª
        </p>
        <a href="../superadmin/manage-users.html" class="btn" data-ar="Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†" data-en="User Management">
          Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
        </a>
      </div>

    </section>

    <!-- KPIs Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù‚Ø³Ù… -->
    <section class="kpi-wrap" id="kpiWrap">
      <div class="kpi"><div class="t" data-ar="Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù‚Ø³Ù…" data-en="Total Department Reports">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù‚Ø³Ù…</div><div class="v" id="kpiTotal">â€”</div></div>
      <div class="kpi"><div class="t" data-ar="Ø§Ù„Ù…ÙØªÙˆØ­Ø©" data-en="Open">Ø§Ù„Ù…ÙØªÙˆØ­Ø©</div><div class="v" id="kpiOpen">â€”</div></div>
      <div class="kpi"><div class="t" data-ar="Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©" data-en="In Progress">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</div><div class="v" id="kpiWip">â€”</div></div>
      <div class="kpi"><div class="t" data-ar="Ø§Ù„Ù…ØºÙ„Ù‚Ø©" data-en="Closed">Ø§Ù„Ù…ØºÙ„Ù‚Ø©</div><div class="v" id="kpiClosed">â€”</div></div>
      <div class="kpi-refresh">
        <button onclick="refreshDashboardData()" class="refresh-btn" title="Refresh Dashboard Data" data-ar="ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª" data-en="Refresh Data">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M23 4v6h-6M1 20v-6h6M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"/>
          </svg>
        </button>
      </div>
    </section>

    <!-- Ø¢Ø®Ø± Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù‚Ø³Ù… -->
    <section class="list-card">
      <div class="table-title" data-ar="Ø¢Ø®Ø± 10 Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù‚Ø³Ù…" data-en="Latest 10 Department Reports">Ø¢Ø®Ø± 10 Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù‚Ø³Ù…</div>
      <table class="comp-table" id="complaintsTable">
        <thead>
          <tr>
            <th data-ar="Ø±Ù‚Ù… Ø§Ù„Ø¨Ù„Ø§Øº" data-en="Report ID">Ø±Ù‚Ù… Ø§Ù„Ø¨Ù„Ø§Øº</th>
            <th data-ar="Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„" data-en="Assigned Employee">Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„</th>
            <th data-ar="Ø§Ù„Ø­Ø§Ù„Ø©" data-en="Status">Ø§Ù„Ø­Ø§Ù„Ø©</th>
            <th data-ar="ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…" data-en="Submission Date">ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

  </main>

  <!-- Department Employees Modal -->
  <div id="employeesModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 data-ar="Ù…ÙˆØ¸ÙÙŠ Ø§Ù„Ù‚Ø³Ù…" data-en="Department Employees">Department Employees</h2>
        <span class="close" onclick="closeModal('employeesModal')">&times;</span>
      </div>
      <div class="modal-body">
        <!-- Search and Filters Section -->
        <div class="search-filters-section">
          <div class="search-bar">
            <input type="text" id="employeeSearch" placeholder="Search by Full Name or Employee ID..." data-ar-placeholder="Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„ Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¸Ù..." data-en-placeholder="Search by Full Name or Employee ID...">
            <button onclick="searchEmployees()" data-ar="Ø¨Ø­Ø«" data-en="Search">Search</button>
            <button onclick="clearEmployeeFilters()" data-ar="Ù…Ø³Ø­ Ø§Ù„ÙÙ„Ø§ØªØ±" data-en="Clear Filters">Clear Filters</button>
          </div>
          <div class="quick-filters">
            <select id="roleFilter" onchange="filterEmployees()">
              <option value="" data-ar="Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¯ÙˆØ§Ø±" data-en="All Roles">All Roles</option>
              <option value="EMPLOYEE" data-ar="Ù…ÙˆØ¸Ù" data-en="Employee">Employee</option>
              <option value="ADMIN" data-ar="Ù…Ø¯ÙŠØ± Ù‚Ø³Ù…" data-en="Department Admin">Department Admin</option>
            </select>
            <select id="statusFilter" onchange="filterEmployees()">
              <option value="" data-ar="Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª" data-en="All Status">All Status</option>
              <option value="active" data-ar="Ù†Ø´Ø·" data-en="Active">Active</option>
              <option value="inactive" data-ar="ØºÙŠØ± Ù†Ø´Ø·" data-en="Inactive">Inactive</option>
            </select>
          </div>
        </div>

        <!-- Loading State -->
        <div id="employeesLoading" class="loading-overlay" style="display: none;">
          <div class="loading-spinner"></div>
        </div>

        <!-- Empty State -->
        <div id="employeesEmptyState" class="empty-state" style="display: none;">
          <p data-ar="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ÙˆØ¸ÙÙŠÙ† ÙÙŠ Ù‚Ø³Ù…Ùƒ" data-en="No employees found in your department">No employees found in your department</p>
          <button onclick="clearEmployeeFilters()" data-ar="Ù…Ø³Ø­ Ø§Ù„ÙÙ„Ø§ØªØ±" data-en="Clear Filters">Clear Filters</button>
        </div>

        <!-- Error State -->
        <div id="employeesErrorState" class="error-state" style="display: none;">
          <p data-ar="Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª" data-en="Error loading data">Error loading data</p>
          <button onclick="loadDepartmentEmployees()" data-ar="Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©" data-en="Retry">Retry</button>
        </div>

        <!-- Employees Table -->
        <div class="employees-table-container">
          <table id="employeesTable" class="data-table">
            <thead>
              <tr>
                <th onclick="sortEmployees('EmployeeID')" class="sortable" data-ar="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¸Ù" data-en="Employee ID">Employee ID <span class="sort-icon">â†•</span></th>
                <th onclick="sortEmployees('FullName')" class="sortable" data-ar="Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„" data-en="Full Name">Full Name <span class="sort-icon">â†•</span></th>
                <th data-ar="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" data-en="Email">Email</th>
                <th data-ar="Ø§Ù„Ù‚Ø³Ù…" data-en="Department">Department</th>
                <th data-ar="Ø§Ù„Ø¯ÙˆØ±" data-en="Role">Role</th>
                <th data-ar="Ø§Ù„Ø­Ø§Ù„Ø©" data-en="Status">Status</th>
                <th data-ar="Ø§Ù„Ù‡Ø§ØªÙ" data-en="Phone">Phone</th>
                <th data-ar="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" data-en="Username">Username</th>
                <th data-ar="Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª" data-en="Actions">Actions</th>
              </tr>
            </thead>
            <tbody id="employeesTableBody">
              <!-- Employees will be loaded here -->
            </tbody>
          </table>
        </div>

        <!-- Pagination -->
        <div class="pagination" id="employeesPagination" style="display: none;">
          <button onclick="previousPage()" data-ar="Ø§Ù„Ø³Ø§Ø¨Ù‚" data-en="Previous">Previous</button>
          <span id="pageInfo" data-ar="Ø§Ù„ØµÙØ­Ø©" data-en="Page">Page</span>
          <button onclick="nextPage()" data-ar="Ø§Ù„ØªØ§Ù„ÙŠ" data-en="Next">Next</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Department Reports Modal -->
  <div id="complaintsModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 data-ar="Ø¨Ù„Ø§ØºØ§Øª Ø§Ù„Ù‚Ø³Ù…" data-en="Department Reports">Department Reports</h2>
        <span class="close" onclick="closeModal('complaintsModal')">&times;</span>
      </div>
      <div class="modal-body">
        <div class="search-bar">
          <input type="text" id="complaintSearch" placeholder="Search complaints..." data-ar-placeholder="Ø§Ù„Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰..." data-en-placeholder="Search complaints...">
          <button onclick="searchComplaints()" data-ar="Ø¨Ø­Ø«" data-en="Search">Search</button>
        </div>
        <div class="complaints-table-container">
          <table id="departmentComplaintsTable" class="data-table">
            <thead>
              <tr>
                <th data-ar="Ø±Ù‚Ù… Ø§Ù„Ø¨Ù„Ø§Øº" data-en="Report ID">Report ID</th>
                <th data-ar="Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„" data-en="Assigned Employee">Assigned Employee</th>
                <th data-ar="Ø§Ù„Ø­Ø§Ù„Ø©" data-en="Status">Status</th>
                <th data-ar="ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…" data-en="Submission Date">Submission Date</th>
                <th data-ar="Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª" data-en="Actions">Actions</th>
              </tr>
            </thead>
            <tbody id="departmentComplaintsTableBody">
              <!-- Complaints will be loaded here -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Complaint Assignment Modal -->
  <div id="assignmentModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 data-ar="ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª" data-en="Complaint Assignment">Complaint Assignment</h2>
        <span class="close" onclick="closeModal('assignmentModal')">&times;</span>
      </div>
      <div class="modal-body">
        <div class="assignment-filters">
          <select id="complaintFilter" onchange="filterComplaintsForAssignment()">
            <option value="unassigned" data-ar="ØºÙŠØ± Ù…Ø®ØµØµØ©" data-en="Unassigned">Unassigned</option>
            <option value="all" data-ar="Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰" data-en="All Complaints">All Complaints</option>
          </select>
        </div>
                 <div class="assignment-table-container">
           <table id="assignmentTable" class="data-table">
             <thead>
               <tr>
                 <th data-ar="Ø±Ù‚Ù… Ø§Ù„Ø¨Ù„Ø§Øº" data-en="Report ID">Report ID</th>
                 <th data-ar="Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„" data-en="Assigned Employee">Assigned Employee</th>
                 <th data-ar="Ø§Ù„Ø­Ø§Ù„Ø©" data-en="Status">Status</th>
                 <th data-ar="ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ‚Ø¯ÙŠÙ…" data-en="Submission Date">Submission Date</th>
                 <th data-ar="Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª" data-en="Actions">Actions</th>
               </tr>
             </thead>
             <tbody id="assignmentTableBody">
               <!-- Assignment data will be loaded here -->
             </tbody>
           </table>
         </div>
      </div>
    </div>
  </div>

  <!-- Department Logs Modal -->
  <div id="logsModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 data-ar="Ø³Ø¬Ù„Ø§Øª Ø§Ù„Ù‚Ø³Ù…" data-en="Department Logs">Department Logs</h2>
        <span class="close" onclick="closeModal('logsModal')">&times;</span>
      </div>
      <div class="modal-body">
        <div class="logs-filters">
          <select id="logType" onchange="filterDepartmentLogs()">
            <option value="all" data-ar="Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³Ø¬Ù„Ø§Øª" data-en="All Logs">All Logs</option>
            <option value="login" data-ar="ØªØ³Ø¬ÙŠÙ„ Ø¯Ø®ÙˆÙ„" data-en="Login">Login</option>
            <option value="complaint" data-ar="Ø´ÙƒØ§ÙˆÙ‰" data-en="Complaints">Complaints</option>
            <option value="assignment" data-ar="ØªÙˆØ²ÙŠØ¹" data-en="Assignment">Assignment</option>
          </select>
        </div>
        <div class="logs-table-container">
          <table id="departmentLogsTable" class="data-table">
            <thead>
              <tr>
                <th data-ar="Ø§Ù„ÙˆÙ‚Øª" data-en="Time">Time</th>
                <th data-ar="Ø§Ù„Ù…ÙˆØ¸Ù" data-en="Employee">Employee</th>
                <th data-ar="Ø§Ù„Ù†ÙˆØ¹" data-en="Type">Type</th>
                <th data-ar="Ø§Ù„ÙˆØµÙ" data-en="Description">Description</th>
              </tr>
            </thead>
            <tbody id="departmentLogsTableBody">
              <!-- Logs will be loaded here -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  <!-- Department Permissions Modal -->
  <div id="permissionsModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 data-ar="Ø¥Ø¯Ø§Ø±Ø© ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù‚Ø³Ù…" data-en="Department Permission Management">Department Permission Management</h2>
        <span class="close" onclick="closeModal('permissionsModal')">&times;</span>
      </div>
      <div class="modal-body">
        <div class="search-bar">
          <input type="text" id="permissionSearch" placeholder="Search by name or employee number..." data-ar-placeholder="Ø§Ù„Ø¨Ø­Ø« Ø¨Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¸Ù..." data-en-placeholder="Search by name or employee number...">
          <button onclick="searchEmployeesForPermissions()" data-ar="Ø¨Ø­Ø«" data-en="Search">Search</button>
        </div>
        <div class="permissions-table-container">
          <table id="permissionsTable" class="data-table">
            <thead>
              <tr>
                <th data-ar="Ø§Ù„Ø§Ø³Ù…" data-en="Name">Name</th>
                <th data-ar="Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¸Ù" data-en="Employee Number">Employee Number</th>
                <th data-ar="Ø§Ù„Ø¯ÙˆØ± Ø§Ù„Ø­Ø§Ù„ÙŠ" data-en="Current Role">Current Role</th>
                <th data-ar="Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª" data-en="Permissions">Permissions</th>
                <th data-ar="Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª" data-en="Actions">Actions</th>
              </tr>
            </thead>
            <tbody id="permissionsTableBody">
              <!-- Permissions data will be loaded here -->
            </tbody>
          </table>
        </div>
      </div>
    </div>
     </div>

   <!-- Individual Assignment Modal -->
   <div id="individualAssignmentModal" class="modal">
     <div class="modal-content">
       <div class="modal-header">
         <h2 data-ar="ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§Øº" data-en="Assign Report">Assign Report</h2>
         <span class="close" onclick="closeIndividualAssignmentModal()">&times;</span>
       </div>
       <div class="modal-body">
         <!-- Loading State -->
         <div id="assignmentLoading" class="loading-overlay" style="display: none;">
           <div class="loading-spinner"></div>
           <p data-ar="Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†..." data-en="Loading employees...">Loading employees...</p>
         </div>
         
         <div class="form-group">
           <label for="employeeSelect" data-ar="Ø§Ø®ØªØ± Ù…ÙˆØ¸Ù:" data-en="Select Employee:">Select Employee:</label>
           <select id="employeeSelect" class="form-control">
             <option value="">Ø§Ø®ØªØ± Ù…ÙˆØ¸Ù...</option>
           </select>
         </div>
         <div class="modal-actions">
           <button onclick="closeIndividualAssignmentModal()" class="btn-cancel" data-ar="Ø¥Ù„ØºØ§Ø¡" data-en="Cancel">Cancel</button>
           <button onclick="confirmAssignment()" class="btn-confirm" data-ar="ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªÙˆØ²ÙŠØ¹" data-en="Confirm Assignment">Confirm Assignment</button>
         </div>
       </div>
     </div>
   </div>

   <!-- Edit Permissions Modal -->
   <div id="editPermissionsModal" class="modal">
     <div class="modal-content">
       <div class="modal-header">
         <h2 data-ar="ØªØ¹Ø¯ÙŠÙ„ ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…ÙˆØ¸Ù" data-en="Edit Employee Permissions">Edit Employee Permissions</h2>
         <span class="close" onclick="closeEditPermissionsModal()">&times;</span>
       </div>
       <div class="modal-body">
         <!-- Loading State -->
         <div id="permissionsLoading" class="loading-overlay" style="display: none;">
           <div class="loading-spinner"></div>
           <p data-ar="Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª..." data-en="Loading permissions...">Loading permissions...</p>
         </div>
         
         <!-- Employee Info -->
         <div class="employee-info-section">
           <h3 id="employeeName" data-ar="Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¸Ù" data-en="Employee Name">Employee Name</h3>
           <p id="employeeDetails" data-ar="ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…ÙˆØ¸Ù" data-en="Employee Details">Employee Details</p>
         </div>
         
         <!-- Permissions Section -->
         <div class="permissions-section">
           <h4 data-ar="Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©" data-en="Available Permissions">Available Permissions</h4>
           <div class="permissions-grid" id="permissionsGrid">
             <!-- Permissions checkboxes will be loaded here -->
           </div>
         </div>
         
         <div class="modal-actions">
           <button onclick="closeEditPermissionsModal()" class="btn-cancel" data-ar="Ø¥Ù„ØºØ§Ø¡" data-en="Cancel">Cancel</button>
           <button onclick="saveEmployeePermissions()" class="btn-confirm" data-ar="Ø­ÙØ¸ Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª" data-en="Save Permissions">Save Permissions</button>
         </div>
       </div>
     </div>
   </div>

   <!-- Report Distribution Modal -->
   <div id="complaintDistributionModal" class="modal">
     <div class="modal-content" style="max-width: 90%; width: 1200px;">
       <div class="modal-header">
         <h2 data-ar="ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª" data-en="Report Distribution">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª</h2>
         <span class="close" onclick="closeModal('complaintDistributionModal')">&times;</span>
       </div>
       <div class="modal-body">
         <div class="complaints-filters" style="margin-bottom: 20px;">
           <div class="filter-group">
             <label data-ar="Ø§Ù„Ø­Ø§Ù„Ø©:" data-en="Status:">Ø§Ù„Ø­Ø§Ù„Ø©:</label>
             <select id="distributionStatusFilter" class="filter-select">
               <option value="" data-ar="Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª" data-en="All Statuses">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>
               <option value="Ø¬Ø¯ÙŠØ¯Ø©" data-ar="Ø¬Ø¯ÙŠØ¯Ø©" data-en="New">Ø¬Ø¯ÙŠØ¯Ø©</option>
               <option value="Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©" data-ar="Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©" data-en="In Progress">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</option>
               <option value="ØªÙ… Ø§Ù„Ø­Ù„" data-ar="ØªÙ… Ø§Ù„Ø­Ù„" data-en="Resolved">ØªÙ… Ø§Ù„Ø­Ù„</option>
               <option value="Ù…ØºÙ„Ù‚Ø©" data-ar="Ù…ØºÙ„Ù‚Ø©" data-en="Closed">Ù…ØºÙ„Ù‚Ø©</option>
             </select>
           </div>
           <div class="filter-group">
             <label data-ar="Ø§Ù„ØªÙˆØ²ÙŠØ¹:" data-en="Assignment:">Ø§Ù„ØªÙˆØ²ÙŠØ¹:</label>
             <select id="distributionAssignmentFilter" class="filter-select">
               <option value="" data-ar="Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰" data-en="All Complaints">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰</option>
               <option value="assigned" data-ar="Ù…Ø®ØµØµØ©" data-en="Assigned">Ù…Ø®ØµØµØ©</option>
               <option value="unassigned" data-ar="ØºÙŠØ± Ù…Ø®ØµØµØ©" data-en="Unassigned">ØºÙŠØ± Ù…Ø®ØµØµØ©</option>
             </select>
           </div>
           <button onclick="loadDistributionComplaints()" class="search-btn" data-ar="ØªØ­Ø¯ÙŠØ«" data-en="Refresh">ØªØ­Ø¯ÙŠØ«</button>
         </div>
         <table class="worklist-table">
           <thead>
             <tr>
               <th data-ar="Ø±Ù‚Ù… Ø§Ù„Ø¨Ù„Ø§Øº" data-en="Report ID">Ø±Ù‚Ù… Ø§Ù„Ø¨Ù„Ø§Øº</th>
               <th data-ar="Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶" data-en="Patient Name">Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶</th>
               <th data-ar="Ù†ÙˆØ¹ Ø§Ù„Ø¨Ù„Ø§Øº" data-en="Report Type">Ù†ÙˆØ¹ Ø§Ù„Ø¨Ù„Ø§Øº</th>
               <th data-ar="ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡" data-en="Created Date">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</th>
               <th data-ar="Ø§Ù„Ø­Ø§Ù„Ø©" data-en="Status">Ø§Ù„Ø­Ø§Ù„Ø©</th>
               <th data-ar="Ø§Ù„Ù…Ø³Ù†Ø¯ Ø¥Ù„Ù‰" data-en="Assigned To">Ø§Ù„Ù…Ø³Ù†Ø¯ Ø¥Ù„Ù‰</th>
               <th data-ar="Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª" data-en="Actions">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
             </tr>
           </thead>
           <tbody id="distributionComplaintsTableBody">
             <!-- Distribution complaints data will be loaded here -->
           </tbody>
         </table>
       </div>
     </div>
   </div>

  <!-- Employee Distribution Modal -->
  <div id="employeeDistributionModal" class="modal" style="z-index: 9999;">
    <div class="modal-content" style="max-width: 90%; width: 1200px;">
      <div class="modal-header">
        <h2 data-ar="ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ†" data-en="Distribute Reports to Employees">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§ØºØ§Øª Ù„Ù„Ù…ÙˆØ¸ÙÙŠÙ†</h2>
        <span class="close" onclick="closeModal('employeeDistributionModal')">&times;</span>
      </div>
      <div class="modal-body">
        <div class="complaints-filters" style="margin-bottom: 20px;">
          <div class="filter-group">
            <label data-ar="Ø§Ù„Ø­Ø§Ù„Ø©:" data-en="Status:">Ø§Ù„Ø­Ø§Ù„Ø©:</label>
            <select id="employeeDistributionStatusFilter" class="filter-select">
              <option value="" data-ar="Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª" data-en="All Cases">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>
              <option value="Ø¬Ø¯ÙŠØ¯Ø©" data-ar="Ø¬Ø¯ÙŠØ¯Ø©" data-en="New">Ø¬Ø¯ÙŠØ¯Ø©</option>
              <option value="Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©" data-ar="Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©" data-en="In Progress">Ù‚ÙŠØ¯ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©</option>
              <option value="ØªÙ… Ø§Ù„Ø­Ù„" data-ar="ØªÙ… Ø§Ù„Ø­Ù„" data-en="Resolved">ØªÙ… Ø§Ù„Ø­Ù„</option>
              <option value="Ù…ØºÙ„Ù‚Ø©" data-ar="Ù…ØºÙ„Ù‚Ø©" data-en="Closed">Ù…ØºÙ„Ù‚Ø©</option>
            </select>
          </div>
          <div class="filter-group">
            <label data-ar="Ø§Ù„ØªÙˆØ²ÙŠØ¹:" data-en="Distribution:">Ø§Ù„ØªÙˆØ²ÙŠØ¹:</label>
            <select id="employeeDistributionAssignmentFilter" class="filter-select">
              <option value="" data-ar="Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰" data-en="All Complaints">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø´ÙƒØ§ÙˆÙ‰</option>
              <option value="assigned" data-ar="Ù…Ø®ØµØµØ©" data-en="Assigned">Ù…Ø®ØµØµØ©</option>
              <option value="unassigned" data-ar="ØºÙŠØ± Ù…Ø®ØµØµØ©" data-en="Unassigned">ØºÙŠØ± Ù…Ø®ØµØµØ©</option>
            </select>
          </div>
          <button onclick="loadEmployeeDistributionComplaints()" class="search-btn" data-ar="ØªØ­Ø¯ÙŠØ«" data-en="Refresh">ØªØ­Ø¯ÙŠØ«</button>
        </div>
        
        <table class="worklist-table">
          <thead>
            <tr>
              <th data-ar="Ø±Ù‚Ù… Ø§Ù„Ø¨Ù„Ø§Øº" data-en="Report ID">Ø±Ù‚Ù… Ø§Ù„Ø¨Ù„Ø§Øº</th>
              <th data-ar="Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶" data-en="Patient Name">Ø§Ø³Ù… Ø§Ù„Ù…Ø±ÙŠØ¶</th>
              <th data-ar="Ù†ÙˆØ¹ Ø§Ù„Ø¨Ù„Ø§Øº" data-en="Report Type">Ù†ÙˆØ¹ Ø§Ù„Ø¨Ù„Ø§Øº</th>
              <th data-ar="ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡" data-en="Created Date">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¥Ù†Ø´Ø§Ø¡</th>
              <th data-ar="Ø§Ù„Ø­Ø§Ù„Ø©" data-en="Status">Ø§Ù„Ø­Ø§Ù„Ø©</th>
              <th data-ar="Ø§Ù„Ù…Ø³Ù†Ø¯ Ø¥Ù„Ù‰" data-en="Assigned To">Ø§Ù„Ù…Ø³Ù†Ø¯ Ø¥Ù„Ù‰</th>
              <th data-ar="Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª" data-en="Actions">Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
            </tr>
          </thead>
          <tbody id="employeeDistributionComplaintsTableBody">
            <!-- Employee distribution complaints data will be loaded here -->
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Individual Assignment Modal (Admin Style) -->
  <div id="individualAssignmentModal" class="modal" style="z-index: 10000;">
    <div class="modal-content">
      <div class="modal-header">
        <h2 data-ar="ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§Øº" data-en="Assign Report">ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø¨Ù„Ø§Øº</h2>
        <span class="close" onclick="closeModal('individualAssignmentModal')">&times;</span>
      </div>
      <div class="modal-body">
        <!-- Loading State -->
        <div id="assignmentLoading" class="loading-overlay" style="display: none;">
          <div class="loading-spinner"></div>
          <p data-ar="Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†..." data-en="Loading employees...">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†...</p>
        </div>
        
        <div class="form-group">
          <label for="employeeSelect" data-ar="Ø§Ø®ØªØ± Ù…ÙˆØ¸Ù:" data-en="Select Employee:">Ø§Ø®ØªØ± Ù…ÙˆØ¸Ù:</label>
          <select id="employeeSelect" class="form-control">
            <option value="">Ø§Ø®ØªØ± Ù…ÙˆØ¸Ù...</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="assignmentNotes" data-ar="Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):" data-en="Notes (Optional):">Ù…Ù„Ø§Ø­Ø¸Ø§Øª (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
          <textarea id="assignmentNotes" class="form-control" rows="3" placeholder="Ø£Ø¶Ù Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø­ÙˆÙ„ Ø§Ù„ØªÙˆØ²ÙŠØ¹..."></textarea>
        </div>
        
        <div class="modal-actions">
          <button onclick="closeModal('individualAssignmentModal')" class="btn-cancel" data-ar="Ø¥Ù„ØºØ§Ø¡" data-en="Cancel">Ø¥Ù„ØºØ§Ø¡</button>
          <button onclick="assignComplaintToEmployee()" class="btn-confirm" data-ar="ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªÙˆØ²ÙŠØ¹" data-en="Confirm Assignment">ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªÙˆØ²ÙŠØ¹</button>
        </div>
      </div>
    </div>
  </div>

      <script src="./dept-admin.js"></script>

</body>
</html>
